@model DnD_Between.Models.CharacterViewModel

@{
    ViewData["Title"] = "Detail";

    int ConfigureByTable(int score)
    {
        int[] tableX1 = { 0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30 };      //Even scores
        int[] tableX2 = { 1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31 };      //Odd scores
        int[] tableY = { -5, -4, -3, -2, -1, 0, +1, +2, +3, +4, +5, +6, +7, +8, +9, +10 };  //Modifier values

        //Ability modifiers are assigned directly from a table.
        int result = 0;
        for (int i = 0; i < tableY.Length; i++)
        {
            if (score == tableX1[i])
            {
                result = tableY[i];
            }
            else if (score == tableX2[i])
            {
                result = tableY[i];
            }
        }
        return result;
    }

    int ConfigureProf(int level)
    {
        int prof = 2;
        if (level >= 17)
        {
            prof = 6;
        }
        else if (level >= 13)
        {
            prof = 5;
        }
        else if (level >= 9)
        {
            prof = 4;
        }
        else if (level >= 5)
        {
            prof = 3;
        }

        return prof;
    }

    List<ProficiencieViewModel> prof = new List<ProficiencieViewModel>();
    {
        prof.Add(new ProficiencieViewModel() { modifier = "DEX", skill = "Acrobatics", bonus = Model.Dex });
        prof.Add(new ProficiencieViewModel() { modifier = "WIS", skill = "Animal Handeling", bonus = Model.Wis });
        prof.Add(new ProficiencieViewModel() { modifier = "INT", skill = "Arcana", bonus = Model.Int });
        prof.Add(new ProficiencieViewModel() { modifier = "STR", skill = "Athletics", bonus = Model.Str });
        prof.Add(new ProficiencieViewModel() { modifier = "CHA", skill = "Deception", bonus = Model.Cha });
        prof.Add(new ProficiencieViewModel() { modifier = "INT", skill = "History", bonus = Model.Int });
        prof.Add(new ProficiencieViewModel() { modifier = "WIS", skill = "Insight", bonus = Model.Wis });
        prof.Add(new ProficiencieViewModel() { modifier = "CHA", skill = "Intimidation", bonus = Model.Cha });
        prof.Add(new ProficiencieViewModel() { modifier = "INT", skill = "Investigation", bonus = Model.Int });
        prof.Add(new ProficiencieViewModel() { modifier = "WIS", skill = "Medicine", bonus = Model.Wis });
        prof.Add(new ProficiencieViewModel() { modifier = "INT", skill = "Nature", bonus = Model.Int });
        prof.Add(new ProficiencieViewModel() { modifier = "WIS", skill = "Perception", bonus = Model.Wis });
        prof.Add(new ProficiencieViewModel() { modifier = "CHA", skill = "Performance", bonus = Model.Cha });
        prof.Add(new ProficiencieViewModel() { modifier = "CHA", skill = "Persuasion", bonus = Model.Cha });
        prof.Add(new ProficiencieViewModel() { modifier = "INT", skill = "Religion", bonus = Model.Int });
        prof.Add(new ProficiencieViewModel() { modifier = "DEX", skill = "Sleight of Hand", bonus = Model.Dex });
        prof.Add(new ProficiencieViewModel() { modifier = "DEX", skill = "Stealth", bonus = Model.Dex });
        prof.Add(new ProficiencieViewModel() { modifier = "WIS", skill = "Survival", bonus = Model.Wis });
    }
}

<div class="container">
    <div class="character_hero">
        <div class="character_hero-overlay"></div>
        <div class="character_hero-content mt-4">
            <div class="row">
                <h2 class="col-1 character_avatar">😁</h2>
                <h2 class="col-5 mt-3">@Model.Name</h2>
                <h3 class="col-2 mt-3">LVL: @Model.Level</h3>
                <h3 class="col-2 mt-3">@Model.Class</h3>
                <h3 class="col-2 mt-3">@Model.Race</h3>
            </div>
        </div>
    </div>
    <div class="row quick_info">
        <div class="col-1">
            <div class="border border-3  border-danger rounded">
                <span class="ability-summary__label">STRENGTH</span>
                <h3>@ConfigureByTable(@Model.Str)</h3>
                <div>@Model.Str</div>
            </div>
        </div>
        <div class="col-1">
            <div class="border border-3 border-danger rounded">
                <span class="ability-summary__label">DEXTERITY</span>
                <h3>@ConfigureByTable(@Model.Dex)</h3>
                <div>@Model.Dex</div>
            </div>
        </div>
        <div class="col-1">
            <div class="border border-3 border-danger rounded">
                <span class="ability-summary__label">CONSTITUTION</span>
                <h3>@ConfigureByTable(@Model.Con)</h3>
                <div>@Model.Con</div>
            </div>
        </div>
        <div class="col-1">
            <div class="border border-3 border-danger rounded">
                <span class="ability-summary__label">INTELLIGENCE</span>
                <h3>@ConfigureByTable(@Model.Int)</h3>
                <div>@Model.Int</div>
            </div>
        </div>
        <div class="col-1">
            <div class="border border-3 border-danger rounded">
                <span class="ability-summary__label">WISDOM</span>
                <h3>@ConfigureByTable(@Model.Wis)</h3>
                <div>@Model.Wis</div>
            </div>
        </div>
        <div class="col-1">
            <div class="border border-3 border-danger rounded">
                <span class="ability-summary__label">CHARISMA</span>
                <h3>@ConfigureByTable(@Model.Cha)</h3>
                <div>@Model.Cha</div>
            </div>
        </div>
        <div class="col-1">
            <div class="border border-2 border-danger rounded">
                <span class="ability-summary__label">PROFICIENCY</span>
                <h3>+@ConfigureProf(@Model.Level)</h3>
                <div>bonus</div>
            </div>
        </div>
        <div class="col-1">
            <div class="border border-2 border-danger rounded">
                <span class="ability-summary__label">WALKING</span>
                <h3>@Model.Speed</h3>
                <div>SPEED</div>
            </div>
        </div>
        <div class="col-1">
            <div class="border border-2 border-danger rounded">
                <h2 class="text-white" style="height: 50px;"></h2>
            </div>
            <span class="inspo_label">INSPIRATION</span>
        </div>
        <div class="col-3">
            <div class="border border-2 border-danger rounded row">
                <div class="col-4">
                    <H6 class="mt-1">HEAL</H6>
                    <H6> - - </H6>
                    <H6>DAMAGE</H6>
                </div>
                <div class="col-4">
                    <H6 class="mt-1">CURRENT</H6>
                    @{
                        int HP = (@Model.Level * 5) + @Model.Con + 10;
                    }
                    <H5>@HP / @HP</H5>
                </div>
                <div class="col-4">
                    <H6 class="mt-1">TEMP</H6>
                    <div> - - </div>
                </div>
            </div>
        </div>
    </div>

    <div class="subsections mt-4">
        <div class="saving-throws">
            <div class="border border-2 border-dark rounded H-1">
                <div class="row_1 margin_bot mt-2 mr-2">
                    <div class="col-6 row_1">
                        <div class="col-8">
                            Strength
                        </div>
                        <div class="border border-3 border-danger rounded col-4">
                            @ConfigureByTable(@Model.Str)
                        </div>
                    </div>
                    <div class="col-6 row_1">
                        <div class="col-8">
                            Intelligence
                        </div>
                        <div class="border border-3 border-danger rounded col-4">
                            @ConfigureByTable(@Model.Int)
                        </div>
                    </div>
                </div>
                <div class="row_1 margin_bot mr-2">
                    <div class="col-6 row_1">
                        <div class="col-8">
                            Dexterity
                        </div>
                        <div class="border border-3 border-danger rounded col-4">
                            @ConfigureByTable(@Model.Dex)
                        </div>
                    </div>
                    <div class="col-6 row_1">
                        <div class="col-8">
                            Wisdom
                        </div>
                        <div class="border border-3 border-danger rounded col-4">
                            @ConfigureByTable(@Model.Wis)
                        </div>
                    </div>
                </div>
                <div class="row_1 margin_bot mr-2">
                    <div class="col-6 row_1">
                        <div class="col-8">
                            Constitution
                        </div>
                        <div class="border border-3 border-danger rounded col-4">
                            @ConfigureByTable(@Model.Con)
                        </div>
                    </div>
                    <div class="col-6 row_1">
                        <div class="col-8">
                            Charisma
                        </div>
                        <div class="border border-3 border-danger rounded col-4">
                            @ConfigureByTable(@Model.Cha)
                        </div>
                    </div>
                </div>
                <div class="mt-4">Saving throws</div>
            </div>
        </div>
        <div class="sences">
            <div class="border border-2 border-dark rounded H-2">
                <div class="row margin_bot mt-2">
                    <div class="col-1"></div>
                    <div class="border border-3 border-dark rounded col-2">
                        @{
                            int passive_percep = ConfigureByTable(@Model.Wis) + 12;
                        }
                        @passive_percep
                    </div>
                    <div class="col-9">
                        Passive Perception
                    </div>
                </div>
                <div class="row margin_bot">
                    <div class="col-1"></div>
                    <div class="border border-3 border-dark rounded col-2">
                        @{
                            int passive_invest = ConfigureByTable(@Model.Int) + 10;
                        }
                        @passive_invest
                    </div>
                    <div class="col-9">
                        Passive Investigation
                    </div>
                </div>
                <div class="row margin_bot">
                    <div class="col-1"></div>
                    <div class="border border-3 border-dark rounded col-2">
                        @{
                            int passive_insight = ConfigureByTable(@Model.Wis) + 10;
                        }
                        @passive_insight
                    </div>
                    <div class="col-9">
                        Passive Insight
                    </div>
                </div>
                <div class="mt-3">Sences</div>
            </div>
        </div>
        <div class="proficiencies">
            <div class="border border-2 border-dark H-2">
                <div class="border-bottom border-1 border-dark">
                    <h5>ARMOR</h5>
                    <h7>leather, Chain mail</h7>
                </div>
                <div class="mt-2">
                    <h5>LANGUAGES</h5>
                    <h7>Common, Elf, Giant</h7>
                </div>
                <div class="mt-2">Proficiencies</div>
            </div>
        </div>
        <div class="skills">
            <div class="border border-2 border-dark rounded">
                <div class="border-bottom border-2 border-dark row_1">
                    <div class="col-1"></div>
                    <div class="col-2">mod</div>
                    <div class="col-6">skill</div>
                    <div class="col-2">bonus</div>
                </div>
                @{
                    foreach (var p in prof)
                    {
                        <div class="row_1 m">
                            <div class="col-1"></div>
                            <div class="col-2">@p.modifier</div>
                            <div class="col-9 border-top border-1 border-dark row_1">
                                <div class="col-8">@p.skill</div>
                                <div class="col-4">@ConfigureByTable(@p.bonus)</div>
                            </div>
                        </div>
                    }
                }
            </div>
        </div>
        <div class="background">
            <div class="border border-2 border-dark rounded row H-3">
                <div class="col-12">
                    <H4 class="mt-2">@Model.Back_name</H4>
                </div>
                <div class="col-2"></div>
                <div class="col-8">
                    <H7>@Model.Back_Des</H7>
                </div>
            </div>
        </div>
        <div class="initiative">
            <span class="inspo_label">INITIATIVE</span>
            <div class="border border-3 border-dark mt-1 rounded">
                <h3 class="mt-1">@ConfigureByTable(@Model.Dex)</h3>
            </div>
        </div>
        <div class="armor">
            <div class="border border-3 border-dark rounded-pill">
                <H8 class="mt-3">ARMOR</H8>
                @{
                    int ac = ConfigureByTable(Model.Dex) + 12;
                }
                <H3 class="mb-0">@ac</H3>
            </div>
        </div>
        <div class="status">
            <div class="border border-2 border-dark rounded row">
                <div class="col-6">
                    <H6 class="mt-1">DEFENSES</H6>
                    <H8>Resistances, Immunities, or Vulnerabilities</H8>
                </div>
                <div class="border-start border-1 border-dark col-6">
                    <H6 class="mt-1">CONDITIONS</H6>
                    <H8>Active Conditions</H8>
                </div>
            </div>
        </div>
    </div>
</div>